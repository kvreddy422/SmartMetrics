<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="">
      <meta name="author" content="">
      <title>Operational Dashboard</title>
      <!-- Bootstrap Core CSS -->
      <link href="../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
      <!-- MetisMenu CSS -->
      <link href="../bower_components/metisMenu/dist/metisMenu.min.css" rel="stylesheet">
      <!-- Custom CSS -->
      <link href="../dist/css/sb-admin-2.css" rel="stylesheet">
      <!-- Custom Fonts -->
      <link rel="icon" href="../dist/img/favicon.ico">
      <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
      <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	  <![endif]-->
	  
 
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> 
		<script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>

    <script src="https://code.highcharts.com/modules/solid-gauge.js"></script>
		
		<style type="text/css">
${demo.css}
		</style> 
      <style>
         #wrapper {
         width: 100%;
         background: white;
         }   
         .mydropdown {
         font-size: 14px!important;
         font-weight: 400;
         height: 30px;
         border-radius: 5px;
         border: none;
         width: 9%;
         padding-left: 35px;
         color: #fff;
         background-color: #5BC0DE;
         }
         .navbar-nav {
         float: right !important;
         }
         .navbar {
         position: relative;
         min-height: 50px;
         margin-bottom: 0px !important;
         border: 1px solid transparent;
         }
         .navbar-default .navbar-collapse, .navbar-default .navbar-form {
         border-color: #337ab7 !important;
         background-color: #337ab7 !important;
         }
         .navbar-default .navbar-nav>li>a {
         color: white;
         }
         .page-header, .navbar-brand {
         color: white !important;
         font-size: 24px;
         }
         .navbar-default .navbar-nav>.active>a, .navbar-default .navbar-nav>.active>a:focus, .navbar-default .navbar-nav>.active>a:hover {
         color: #555;
         background-color: white;
         }
         .logoHolder {
         width: 102px;
         height: 34px;
         background: url('../dist/img/Logo.png') no-repeat;
         display: inline-block;
         position: relative;
         bottom: 10px;
         }
         .loginHeaderText {
         position: relative;
         bottom: 16px;
         font-size: 20px;
         left: 10px;
         }
       
         .body1{
         background-color:lavender;
         }
         .panel-title{
         font-weight: bold;

         }
         .panel{
         border: 5px solid lavender;
		 height: 200px;
         }
         .panel-body{
         padding:10px;
         }
		 .btn-group{
		 padding-right:10px;
		 padding-left:10px;
		 }
		 
		  #linegraph{
			width:100%;
			height:300px;
		 } 
		 <!-- 
		 #gauge{
			width:100%;
			height:60px;
		 } -->

      </style>
   </head>
   <body>
   
   <nav class="navbar navbar-default navbar-static-top" role="navigation" style="">
            <div class="navbar-header">
               <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
               <span class="sr-only">Toggle navigation</span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               </button>
               <a class="navbar-brand" href="#">
               <span class="logoHolder"></span>
               <span class="loginHeaderText">Historic Data</span>
               </a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
               <ul class="nav navbar-nav">
                  <li class="active">
                     <a href="#">UPS</a>
                  </li>
                  <li>
                     <a href="login.html">Sign Out</a>
                  </li>
                  <li>
                     <a href="BuildMain.html">My Home</a>
                  </li>
                  <li>
                     <a href="index.html">Back to Building Overview</a>
                  </li>
                  <!--             <li>
                     <a href="stocks_second.html"></a>
                     </li>
                     <li>
                     <a href="stocks_third.html"></a>
                     </li>
                     -->           
               </ul>
            </div>
            <!--/.nav-collapse -->
         </nav>
		
<div class="container-fluid">
	<div class="row"  style="width:100%; border-color:white;padding:40px;">
		<div class="col-md-12">
			<div class="row">
				<div class="" style="float:left; border-color:white">
					<div class="btn-group">
						 
						<button class="btn btn-default">
							Total Power
						</button> 
						<button data-toggle="dropdown" class="btn btn-default dropdown-toggle">
							<span class="caret"></span>
						</button>
						<ul class="dropdown-menu">
							<li>
								<a href="#">Gas Consumed</a>
							</li>
							<li class="">
								<a href="#">Electricity Consumed</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="" style="float:left; border-color:white">
					<div class="btn-group">
						 
						<button class="btn btn-default">
							City
						</button> 
						<button data-toggle="dropdown" class="btn btn-default dropdown-toggle">
							<span class="caret"></span>
						</button>
						<ul class="dropdown-menu">
							<li>
								<a href="#">California</a>
							</li>
							<li class="">
								<a href="#">San Hose</a>
							</li>
							<li class="">
								<a href="#">Las Vegas</a>
							</li>

						</ul>
					</div>
				</div>
				<div class="" style="float:left; border-color:white">
					<div class="btn-group">
						 
						<button class="btn btn-default">
							Building type
						</button> 
						<button data-toggle="dropdown" class="btn btn-default dropdown-toggle">
							<span class="caret"></span>
						</button>
						<ul class="dropdown-menu">
							<li>
								<a href="#">Type1</a>
							</li>
							<li class="">
								<a href="#">Type2</a>
							</li>
							<li class="">
								<a href="#">Type3</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="col-md-3">
				</div>
			</div>
		</div> 
	</div>
	<div class="container-fluid">

	<div class="row">
		<div class="col-md-8">
			<div class="row">
				<div class="col-md-12">
					<div class="panel panel-default" style="height: 420px;">
						<div class="panel-heading">
							<h3 class="panel-title">
								Line Graph
							</h3>
						</div>
						<div class="panel-body">
 						<div id="linegraph" style="display:inline-block">
						  <script type="text/javascript">
						  var responsejson;
$(function () {


var url = 'http://liacm218:8181/BuildingCassandraRest/getallbyscbdaily/AK/Anchorage/Hospital';
var response = '';
var request = new XMLHttpRequest();
request.open('GET', url, false);  // `false` makes the request synchronous
request.send(null);

if (request.status === 200) {
  response = request.responseText;
}
 responsejson = JSON.parse(response);

 var timestampLine =  responsejson.map(function(a) {return new Date(a.timestamp);});
var totalPowerLine =  responsejson.map(function(a) {return a.totalPower;});
var date=[];
 
 for (i=0 ; i<timestampLine.length; i++){
 date[i]=timestampLine[i].getDate() + "/" + (timestampLine[i].getMonth() + 1)+ "/" + timestampLine[i].getFullYear() }
 
 var final_data=[];
 for(i=0; i<date.length; i++)
{
    final_data.push([date[i],totalPowerLine[i]]);
};
 
 
   // $.getJSON('https://www.highcharts.com/samples/data/jsonp.php?filename=usdeur.json&callback=?', function (data) {
 function rungraph(data) {
        $('#linegraph').highcharts({
            chart: {
                zoomType: 'x'
            },
            title: {
                text: 'Total power consumed over time'
            },
            subtitle: {
                text: document.ontouchstart === undefined ?
                        'Click and drag in the plot area to zoom in' : 'Pinch the chart to zoom in'
            },
           credits:{
			enabled: false
		   },
			xAxis: {
            type: 'datetime',
            <!-- tickInterval: 7 * 24 * 365 , // one day -->
			<!-- min: date [0], -->
			<!-- max: date [3], -->
            labels: { 
                 format: '{value:%m/%d/%Y}', 
                 align: 'right', 
                 rotation: -30 
            }, 
			
               
        },
            yAxis: {
				
                title: {
                    text: 'Power Consumed'
                }
            },
            legend: {
                enabled: false
            },
            plotOptions: {
                area: {
                    fillColor: {
                       /* linearGradient: {
                            x1: 0,
                            y1: 0,
                            x2: 0,
                            y2: 1
                        },*/
                         stops: [
                            [0, Highcharts.getOptions().colors[0]],
                            [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
                        ] 
                    },
                    marker: {
                        radius: 2
                    },
                    lineWidth: 1,
                    states: {
                        hover: {
                            lineWidth: 1
                        }
                    },
                    threshold: null
                }
            },

            series: [{
                type: 'area',
                name: 'USD to EUR',
				pointStart : Date.UTC(2015,0,1),
				pointInterval: 24 * 3600 * 1000, 
                data: final_data
            }]
        });
    };
	
	rungraph(responsejson);
	
});
		</script> 
						  
						  </div>
							
						</div>
						
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="panel panel-default" style="height:260px;">
				<div class="panel-heading">
					<h3 class="panel-title" >
						Gauge
					</h3>
				</div>
				<div class="panel-body">
				
					  <div id="gauge" style="display:inline-block;width: 100%; height: 200px;"></div>
					  		<script type="text/javascript">
$(function () {

    var gaugeOptions = {

        chart: {
            type: 'solidgauge'
        },

        title: null,

        pane: {
            center: ['50%', '85%'],
            size: '140%',
            startAngle: -90,
            endAngle: 90,
            background: {
                backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || '#EEE',
                innerRadius: '60%',
                outerRadius: '100%',
                shape: 'arc'
            }
        },

        tooltip: {
            enabled: false
        },

        // the value axis
        yAxis: {
            stops: [
                [1.0, '#33adff'], // blue
                //[0.5, '#DDDF0D'], // yellow
                //[0.9, '#DF5353'] // red
            ],
            lineWidth: 0,
            minorTickInterval: null,
            tickPixelInterval: 400,
            tickWidth: 0,
            title: {
                y: -80
            },
            labels: {
                y: 16
            }
        },

        plotOptions: {
            solidgauge: {
                dataLabels: {
                    y: 5,
                    borderWidth: 0,
                    useHTML: true
                }
            }
        }
    };

    // The speed gauge
    $('#gauge').highcharts(Highcharts.merge(gaugeOptions, {
        yAxis: {
            min: 0,
            max: 200,
            title: {
                text: 'Speed'
            }
        },

        credits: {
            enabled: false
        },

        series: [{
            name: 'Speed',
            data: [100],
            dataLabels: {
                format: '<div style="text-align:center"><span style="font-size:20px;color:' +
                    ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black') + '">{y}</span><br/>' +
                       '<span style="font-size:10px;color:silver">km/h</span></div>'
            },
            tooltip: {
                valueSuffix: ' km/h'
            }
        }]

    }));




});
		</script>
    
                    </div> 
				</div>
				
			
			<div class="row">
				<div class="col-md-6">
					<div class="panel panel-default"  style="font-size:15px;height: 140px; text-align:"centre";>
						<div class="panel-heading">
							<h3 class="panel-title">
								text1777
							</h3>
						</div>
						<div class="panel-body" style="display:inline-block;">
							Avg. Daily Users(weekday)
							<script>
								var avg="177";
								var res= avg.fontsize(30);
								document.write(res);
							</script>
						</div>
						
					</div>
				</div>
				<div class="col-md-6">
					<div class="panel panel-default" style="font-size:20px;height: 140px;">
						<div class="panel-heading">
							<h3 class="panel-title">
								text 30.42
							</h3>
						</div>
						<div class="panel-body" >
							Panel content
						</div>
						
					</div>
				</div>
			</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div class="row">
				<div class="col-md-2">
					<div class="row">
						<div class="col-md-12">
							<div class="panel panel-default">
								<div class="panel-heading">
									<h3 class="panel-title">
										Panel title
									</h3>
								</div>
								<div class="panel-body">
									Panel content
								</div>
								
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="panel panel-default">
								<div class="panel-heading">
									<h3 class="panel-title">
										Panel title
									</h3>
								</div>
								<div class="panel-body">
									Panel content
								</div>
								
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-6">
					<div class="panel panel-default" style="height: 420px;">
						<div class="panel-heading">
							<h3 class="panel-title">
								Stacked bar
							</h3>
						</div>
						<div class="panel-body">
						<div id="bar" style="display:inline-block;width: 100%; height: 350px;"></div>
									<script type="text/javascript">
$(function () {

var url = 'http://liacm218:8181/BuildingCassandraRest/getallbyscbdaily/AK/Anchorage/Hospital';
var response = '';
var request = new XMLHttpRequest();
request.open('GET', url, false);  // `false` makes the request synchronous
request.send(null);

if (request.status === 200) {
  response = request.responseText;
}
 responsejson = JSON.parse(response);

 var timestampLine =  responsejson.map(function(a) {return new Date(a.timestamp);});
var totalPowerLine =  responsejson.map(function(a) {return a.totalPower;});
var today = new Date(timestampLine[0]);
var year = today.getFullYear();
var month = today.getMonth();
var date = today.getDate();

if (date < 7){
month = today.getMonth() - 1 ;
}

if (month <1 && date < 7){
month = 12
year = today.getFullYear()-1;

}
    var lastWeek = new Date(year, month, date - 7);
 var date = []
 
 for (i = 0; i < 7; i++) { 
    date[i] = new Date(lastWeek.getFullYear(), lastWeek.getMonth(), lastWeek.getDate() + i);
}

 

var final_date = [];
 for (i = 0; i < 7; i++) { 
final_date[i]= date[i].getDate() + "/" + (date[i].getMonth() + 1)+ "/" + date[1].getFullYear();
}
final_date.reverse();
var rows = [];
for(i=0; i<7; i++)
{
    rows.push([final_date[i],totalPowerLine[i+1]]);
}



$('#bar').highcharts({
        chart: {
            type: 'bar'
        },
        title: {
            text: 'Stacked bar chart'
        },
        xAxis: {
            categories: []
        },
        yAxis: {
            min: 0,
			tickInterval: 1,
            title: {
                text: 'Total fruit consumption'
            }
			
        },
       
        plotOptions: {
            series: {
                stacking: 'normal'
            }
        },
      series: [{
            name: 'John',
            data: rows
        }]
    });

});
		</script>
						</div>
						
					</div>
				</div>
				<div class="col-md-4">
					<div class="panel panel-default" style="height: 420px;">
						<div class="panel-heading">
							<h3 class="panel-title">
								Pie Chart
							</h3>
						</div>
						<div class="panel-body">
							 <div id="pie" style="display:inline-block;width: 100%; height: 350px;"></div>
							 		<script type="text/javascript">
$(function () {
    $('#pie').highcharts({
        chart: {
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false,
            type: 'pie'
        },
        title: {
            text: 'Browser market shares'
        },
        tooltip: {
            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: false,
                    <!-- format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                    <!-- style: { -->
                        <!-- color: (Highcharts.theme && Highcharts.theme.contrastTextColor) -->
                    <!-- } --> -->
                },
				showInLegend: true
            }
        },
        series: [{
            name: 'Brands',
            colorByPoint: true,
            data: [{
                name: 'Microsoft Internet Explorer',
                y: 56.33
            }, {
                name: 'Chrome',
                y: 24.03,
                <!-- sliced: true, -->
                selected: true
            }, {
                name: 'Firefox',
                y: 10.38
            }, {
                name: 'Safari',
                y: 4.77
            }, {
                name: 'Opera',
                y: 0.91
            }, {
                name: 'Proprietary or Undetectable',
                y: 0.2
            }]
        }]
    });
});
		</script>
						</div>
						
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</div>
   <!-- <script src="../bower_components/jquery/dist/jquery.min.js"></script> -->
      <!-- Bootstrap Core JavaScript -->
      <script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
      <!-- Metis Menu Plugin JavaScript -->
      <script src="../bower_components/metisMenu/dist/metisMenu.min.js"></script>
      <!-- Custom Theme JavaScript -->
      <script src="../dist/js/sb-admin-2.js"></script>
      <script src="stockJs.js"></script>
      <!-- <script src="Highstock-2.1.9/js/highstock.js"></script> -->
      <!-- <script src="Highstock-2.1.9/js/modules/exporting.js"></script> -->
      <!-- <script src="Highstock-2.1.9/js/themes/sand-signika.js"></script> -->
	  <!-- <script src="https://code.highcharts.com/highcharts.js"></script>
	  <script src="https://code.highcharts.com/modules/exporting.js"></script> -->
	  <!-- <script src="http://code.highcharts.com/highcharts-more.js"></script>  -->
	  <!-- <script src="https://code.highcharts.com/modules/solid-gauge.js"></script> -->
	   
	  

   </body>
</html>